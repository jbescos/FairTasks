<!DOCTYPE HTML>
<html lang="en">
<head>
<title>Fair Tasks</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="/css/bootstrap.css">
<link rel="stylesheet" href="/css/custom.css">
<script src="/js/jquery-3.3.1.js"></script>
<script src="/js/custom.js"></script>
<script src="/js/bootstrap.js"></script>
</head>
<body>
	<script type="text/javascript">
		
	</script>
	<div class="container">
		<div class="page-header margin-header">
			<h1>Fair Tasks</h1>
		</div>
		<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
			<a class="navbar-brand" href="/index.html">Home</a> <a
				class="navbar-brand" href="/group.html">Group</a> <a
				class="navbar-brand" href="/tasks.html">Tasks</a>
		</nav>
		<h2 class="margin-header">Create group</h2>
		<div class="input-group input-group-sm mb-3">
		    <input type="text" class="form-control" id="groupName" placeholder="Name of the group"/>
		    <span class="input-group-addon"><button type="button" class="btn btn-success" id="create">Create</button></span>
	    </div>
		<h2 class="margin-header">Add a new member</h2>
		<div class="input-group input-group-sm mb-3">
			<span class="basic-addon3"><select class="form-control" id="group"></select></span>
			<input type="text" class="form-control" id="email" placeholder="Email"/>
			<span class="input-group-addon"><button type="button" class="btn btn-success" id="insert">Insert</button></span>
		</div>
		<h2 class="margin-header">Members in groups</h2>
		<div class="row">
			<div class="col p-3 mb-2 bg-info text-white">
				Group name
			</div>
			<div class="col p-3 mb-2 bg-info text-white">
				Member
			</div>
			<div class="col-2 p-3 mb-2 bg-info text-white">
				
			</div>
		</div>
		<div id="groups">
		
		</div>
	</div>
	<script type="text/javascript">
		$(document).ready(function() {
			loadCrudTable('groups', '/groups', true);
			loadSelectGroups('group', '/groups/unique');
			$('#create').on('click', function() {
				var group = $('#group').val();
				insert('/groups', '{"group":"'+group+'"}', function(){
					loadCrudTable('groups', '/groups', true);
					loadSelectGroups('group', '/groups/unique');
				});
			});
			$('#insert').on('click', function() {
				var email = $('#email').val();
				var group = $("#group option:selected").text();
				insert('/groups', '{"group":"'+group+'","email":"'+email+'"}', function(){
					loadCrudTable('groups', '/groups', true);
				});
			});
		});
	</script>
</body>
</html>